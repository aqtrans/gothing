{{ define "title" }}<title>Image Gallery</title>{{ end }}
{{ define "side" }}<div></div> {{ end }}
{{ define "content" }}
<header>Image Gallery</header>

<div id="gallery" class="row">
    {{range .Images}}
    {{$imgext := .Filename|imgExt}}
      <div class="images">
          {{if eq $imgext "gif"}}
          <img class="gifplayer" data-gif="/imagedirect/{{.Filename}}" src="/thumbs/{{.Filename}}.png">
          {{else if eq $imgext "webm"}}
          <video controls loop muted poster="/thumbs/{{.Filename}}.png">
          <source src="/imagedirect/{{.Filename}}" type="video/webm">
          </video>
          {{else if eq $imgext "mp4"}}
          <video controls loop muted poster="/thumbs/{{.Filename}}.png">
          <source src="/imagedirect/{{.Filename}}" type="video/mp4">
          </video>
          {{else}}
          <img class="{{.Filename|imgClass}}" src="/thumbs/{{.Filename}}.png">
          {{end}}
          <div class="buttons">
          <a href="/{{.Filename}}" class="small button">Link</a>
          <a href="/big/{{.Filename}}" class="small button">Embiggen</a>
          </div>
      </div>
    {{ end }}
</div>
{{ end }}